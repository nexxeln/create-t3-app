---
import clsx from "clsx";
import Search from "./Search";
import SidebarToggle from "./SidebarToggle";

const currentPage = Astro.url.pathname;
const isLanding = currentPage === "/";

const navbarLinks: Array<{ href: string; label: string }> = [
  {
    href: "/en/introduction",
    label: "Docs",
  },
  {
    href: "/en/faq",
    label: "FAQ",
  },
  {
    href: "https://github.com/t3-oss/create-t3-app",
    label: "Github",
  },
  {
    href: "https://init.tips",
    label: "T3 Stack",
  },
];
---

<nav
  class={clsx("flex flex-col relative justify-between items-center pt-6", {
    "z-50 text-slate-50": isLanding,
    "bg-t3-purple-50 dark:bg-slate-900": !isLanding,
  })}
  aria-label="Global"
>
  <div class="flex items-center justify-between w-full px-6 pb-2">
    <div class="flex justify-between items-center w-full md:w-auto">
      <div>
        <a href="/">
          <img
            src="/favicon.svg"
            width="45"
            height="45"
            alt="T3 Logo"
            class="rounded-lg"
          />
        </a>
      </div><div class="hidden -space-x-1 md:flex md:ml-10">
        {
          navbarLinks.map((navbarLink) => (
            <a
              class={clsx(
                "inline-flex items-center border font-medium relative text-base px-3 py-2 rounded-md border-transparent",
                {
                  "text-t3-purple-100 hover:text-t3-purple-300": isLanding,
                  "text-t3-purple-500 dark:text-t3-purple-100 hover:text-t3-purple-400":
                    !isLanding,
                },
              )}
              href={navbarLink.href}
            >
              {navbarLink.label}
            </a>
          ))
        }
      </div>
    </div>
    <div>
      <SidebarToggle currentPage={currentPage} client:idle />
    </div>
    <div
      class="hidden md:block shadow-sm dark:shadow-md shadow-slate-500 dark:shadow-slate-500/10 rounded-lg w-full max-w-xs"
    >
      <Search client:load />
    </div>
  </div>
</nav>
