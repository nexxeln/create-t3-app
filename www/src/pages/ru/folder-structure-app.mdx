---
title: Файловая структура (App)
description: Файловая структура нового T3 приложения с App роутером.
layout: ../../layouts/docs.astro
lang: ru
isMdx: true
---

import Diagram from "../../components/docs/folderStructureDiagramApp.astro";
import Form from "../../components/docs/folderStructureForm.astro";

Пожалуйста, выберите ваши пакеты для того, чтобы увидеть структуру ново-сгенерированого проекта с выбраными функциями. Ниже вы найдете описание каждой из этих функций.

<Form />

<Diagram />

<div data-components="prisma">

### `prisma`

Папка `prisma` содержит файл `schema.prisma`, который используется для конфигурации подключения к базе данных и ее схему. Также, здесь можно хранить файлы миграций и/или исходные (seed) скрипты, есть нужно. Смотрите [Использование Prisma](usage/prisma) для получения дополнительной информации.

</div>
<div>

### `public`

Папка `public` содержит статические объекты, которые публикуются вэб-сервером. Файл `favicon.ico` - пример статического объекта.

</div>
<div>

### `src/env`

Используется для валидации переменных среды и определения типов - смотри [Переменные среды](usage/env-variables).

</div>
<div>

### `src/app`

Папка `app` содержит все маршруты приложения Next.js. Файл `page.tsx` в корневой папке `/app`, является домашней страницей приложения. Файл `layout.tsx` используется для обертывания приложения провайдерами. Смотри [документацию Next.js](https://nextjs.org/docs/basic-features/pages) для получения дополнительной документации.

</div>
<div data-components="trpc">

#### `src/app/_components/post.tsx`

Файл `post.tsx` - пример клиентского компонента, который вызывает мутацию tRPC.

</div>
<div data-components="nextauth">

#### `src/app/api/auth/[...nextauth]/route.ts`

Файл `[...nextauth]/route.ts` это slug-маршрут аутентификации NextAuth.js. Он используется для обработки запросов аутентификации. Смотри [использование NextAuth.js](usage/next-auth) для получения дополнительной информации про NextAuth.js и [документацию динамических маршрутов Next.js](https://nextjs.org/docs/app/building-your-application/routing/dynamic-routes) для получения информации про catch-all/slug маршруты.

</div>
<div data-components="trpc">

#### `src/app/api/trpc/[trpc]/route.ts`

Файл `[trpc].ts` - входная точка API tRPC. Он используется для обработки запросов tRPC. Смотри [использование tROC](usage/trpc#-pagesapitrpctrpcts) для получения дополнительной информации про этот файл и [документацию динамических маршрутов Next.js](https://nextjs.org/docs/app/building-your-application/routing/dynamic-routes) для получения информации про catch-all/slug маршруты. 

</div>
<div data-components="trpc prisma nextauth drizzle">

### `src/server`

Папка `server` используется для чёткого разделения кода, который используется только на сервере.

</div>
<div data-components="nextauth+trpc">

#### `src/server/auth.ts`

Главная точка входа для логики аутентификации на стороне сервера. Здесь мы устанавливаем [настройки](usage/next-auth) NextAuth.js, производим [аугментацию модулей](usage/next-auth#inclusion-of-userid-on-the-session), а также предоставляем некоторые утилиты DX для аутентификации, например для получения сессии пользователя на стороне сервера. Смотри [Использование NextAuth.js](usage/next-auth#usage-with-trpc) для получения дополнительной информации.

</div>
<div data-components="prisma">

#### `src/server/db.ts`

Файл `db.ts` используется для создания клиента Prisma на глобальном уровне. Смотрите [Использование Prisma](/ru/usage/prisma#prisma-client) и [лучшие практики по использованию Prisma с Next.js](https://www.prisma.io/docs/guides/database/troubleshooting-orm/help-articles/nextjs-prisma-client-dev-practices) для получения дополнительной информации.

</div>
<div data-components="drizzle">

### `src/server/db`

Папка `db` содержит клиент и схему Drizzle. Заметьте, что drizzle нуждается в файле `drizzle.config.ts` (смотрите ниже).

</div>
<div data-components="drizzle">

#### `src/server/db/index.ts`

Файл `index.ts` используется для создания клиента Drizzle на глобальном уровне. Смотрите [Использование Drizzle](usage/drizzle#drizzle-client) и [лучшие практики использования Drizzle с Next.js](https://www.prisma.io/docs/guides/database/troubleshooting-orm/help-articles/nextjs-prisma-client-dev-practices) для получения дополнительной информации.

</div>
<div data-components="drizzle">

#### `src/server/db/schema.ts`

Файл `schema.ts` используется для описания схемы базы данных. Смотрите [Использование Drizzle](usage/drizzle#drizzle-client) и [лучшие практики использования Drizzle с Next.js](https://www.prisma.io/docs/guides/database/troubleshooting-orm/help-articles/nextjs-prisma-client-dev-practices) для получения дополнительной информации.

</div>
<div data-components="trpc">

### `src/server/api`

Папка `api` содержит серверный код tRPC.

</div>
<div data-components="trpc">

#### `src/server/api/routers`

Папка `routers` содержит все ваши под-маршрутизаторы tRPC.

</div>
<div data-components="trpc">

#### `src/server/api/routers/example.ts`

Файл `example.ts` - это пример маршрутизатора tRPC, использующий вспомогательную функцию `publicProcedure` для демонстрации того, как создать публичный маршрут tRPC.

Основываясь на выбранных вами пакетах, этот маршрутизатор содержит больше или меньше маршрутов для лучшего демонстрирования использования ваших потребностей.

</div>
<div data-components="trpc">

#### `src/server/api/trpc.ts`

Файл `trpc.ts` - это основной файл конфигурации для вашего tRPC-бэкэнда. В нем мы:

1. Определяем контекст используемый в запросах tRPC. Смотрите [Использование tRPC](/ru/usage/trpc#-serverapitrpcts) для получения дополнительной информации.
2. Экспортируем вспомогательные функции процедур. Смотрите [Использование tRPC](/ru/usage/trpc#-serverapitrpcts) для получения дополнительной информации.

</div>

<div data-components="trpc">

#### `src/server/api/root.ts`

Файл `root.ts` используется для слияния маршрутизаторов tRPC и экспорта их как единого маршрутизатора, а также определения типа маршрутизатора. Смотрите [Использование tRPC](/ru/usage/trpc#-serverapirootts) для получения дополнительной информации.

</div>
<div data-components="trpc">

### `src/trpc`

Папки `trpc` содержит настройки, которые позваляют вам вызывать процедуры tRPC из серверных и клиентских компонентов.

</div>
<div data-components="trpc">

#### `src/trpc/query-client.ts`

Файл `query-client.ts` создает Query Client, который используется tRPC для кеширования и дедупликации информации в клиентских компонентах.

</div>
<div data-components="trpc">

#### `src/trpc/react.tsx`

Файл `react.tsx` является точкой входа front-end'a в tRPC. Он также содержит утилитарные типы для входов и выходов маршрутизатора. Смотри [Использование tRPC](usage/trpc#-utilsapits) для получения дополнительной информации.

</div>
<div data-components="trpc">

#### `src/trpc/server.ts`

Файл `server.ts` является точкой входа для использования tRPC в Серверных Компонентах.

</div>
<div>

### `.env`

Файл `.env` используется для хранения переменных среды. Смотрите [Переменные среды](usage/env-variables) для получения дополнительной информации. Этот файл **не** должен быть добавлен в историю git.

</div>
<div>

### `.env.example`

Файл `.env.example` показывает пример переменных среды на основе выбранных библиотек. Этот файл должен быть добавлен в историю git.

</div>
<div>

### `.eslintrc.cjs`

Файл `.eslintrc.cjs` используется для настройки ESLint. Смотрите [документацию ESLint](https://eslint.org/docs/latest/user-guide/configuring/configuration-files) для получения дополнительной информации.

</div>
<div data-components="drizzle">

### `db.sqlite (sqlite only)`

Файл `db.sqlite` содержит вашу базу данных разработки. Этот файт создается только после запуска `db:push` и игнорируется git.

</div>
<div data-components="drizzle">

### `drizzle.config.ts`

Файл `drizzle.config.ts` используется для конфигурации drizzle kit. Смотрите [документацию](https://orm.drizzle.team/kit-docs/config-reference) для получения дополнительной информации.

</div>
<div>

### `next-env.d.ts`

Файл `next-env.d.ts` гарантирует, что типы Next.js будут обнаружены компилятором TypeScript. **Вы не должны удалять его или редактировать, поскольку он может измениться в любое время.** Смотрите [документацию Next.js](https://nextjs.org/docs/basic-features/typescript#existing-projects) для получения дополнительной информации.

</div>
<div>

### `next.config.mjs`

Файл `next.config.mjs` используется для настройки Next.js. Смотрите [Документацию Next.js](https://nextjs.org/docs/api-reference/next.config.js/introduction) для получения дополнительной информации. Примечание: Расширение .mjs используется для разрешения импортов ESM.

</div>
<div data-components="tailwind">

### `postcss.config.cjs`

Файл `postcss.config.cjs` используется для использования Tailwind PostCSS. Смотрите [документацию Taiwind PostCSS](https://tailwindcss.com/docs/installation/using-postcss) для получения дополнительной информации.

</div>
<div data-components="tailwind">

### `prettier.config.mjs`

Файл `prettier.config.mjs` используется для настройки Prettier для включения prettier-plugin-tailwindcss для форматирования классов Tailwind CSS. Смотрите [пост блога Tailwind CSS](https://tailwindcss.com/blog/automatic-class-sorting-with-prettier) для получения дополнительной информации.

</div>
<div data-components="drizzle">

### `start-database.sh (mysql or postgres only)`

Файл `start-database.sh` используется для запуска базы данных. Пожалуйста, обратите внимание на коментарии внутри файла для получения дополнительной информации про запуск базы данных вашей операционной системой.

</div>
<div>

### `tsconfig.json`

Файл `tsconfig.json` используется для настройки TypeScript. Некоторые значения по умолчанию, такие как `strict mode`, были включены для обеспечения лучшего использования TypeScript для create-t3-app и его библиотек. Смотрите [документацию TypeScript](https://www.typescriptlang.org/docs/handbook/tsconfig-json.html) или [Использование TypeScript](usage/typescript) для получения дополнительной информации.

</div>
